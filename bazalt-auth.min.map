{"version":3,"file":"bazalt-auth.min.js","sources":["bazalt-auth.js"],"names":["define","$","angular","module","controller","$scope","$location","UserResource","blConfig","$q","user","registerUser","loading","$register","path","baseUrl","res","status","register","invalidForm","data","checkEmail","email","d","defer","resolve","valid","error","reject","promise","resendActivation","$http","post","form","success","message","blAcl","isLoggedIn","loginUser","login","logout","this","setModel","$apply","directive","$parse","require","scope","link","elem","attrs","ctrl","callback","ngUnique","on","$value","val","then","$setValidity","$setViewValue","undefined","compareField","$parsers","unshift","value","$formatters","$rootScope","restrict","accessLevel","element","updateCSS","toggle","authorize","role","$watch","$log","forEach","field","fieldName","ctr","validator","factory","$resource","apiEndpoint","method","params","action","response","console","file","provider","$baseUrl","$templateUrl","$apiEndpoint","templateUrl","$get","self","levels","$levels","roles","$roles","$buildRoles","bitMask","userRoles","intCode","parseInt","title","toString","$buildAccessLevels","accessLevelDeclarations","accessLevels","level","resultBitMask","log","hasOwnProperty","public","anon","admin","run","$on","event","next","acl","isDefined","$$route","access","$cookieStore","$user","changeUser","$$phase","get","isUndefined","noop","put","config","$routeProvider","$locationProvider","blConfigProvider","when","template"],"mappings":"CAAC,WACDA,OAAO,mBAAoB,SAAU,UAAW,mBAAoB,mBAAoB,SAAUC,EAAGC,GACjG,YAEA,OAAOA,GAAQC,OAAO,eAAgB,gBAE1CH,OAAO,wCAAyC,mBAAoB,SAASG,GAEzEA,EAAOC,WAAW,gBAAiB,SAAU,YAAa,eAAgB,WAAY,KAAM,SAASC,EAAQC,EAAWC,EAAcC,EAAUC,GAC5IJ,EAAOK,QACPL,EAAOM,aAAe,WAClB,GAAID,GAAO,GAAIH,GAAaF,EAAOK,KACnCL,GAAOO,SAAU,EACjBF,EAAKG,UAAU,WACXR,EAAOO,SAAU,EACjBN,EAAUQ,KAAKN,EAASO,UAAY,oBACrC,SAASC,GACU,KAAdA,EAAIC,QAAeZ,EAAOa,SAASC,YAAYH,EAAII,SAG/Df,EAAOgB,WAAa,SAASC,GACzB,GAAIC,GAAId,EAAGe,OAMX,OALAjB,GAAac,YAAaC,MAASA,GAAS,SAASF,GACjDG,EAAEE,QAAQL,EAAKM,QAChB,SAASC,GACRJ,EAAEK,OAAOD,KAENJ,EAAEM,SAEbxB,EAAOyB,iBAAmB,WACtBC,MAAMC,KAAK,4BAA6B3B,EAAO4B,MAC9CC,QAAQ,WACL5B,EAAUQ,KAAK,uBAElBa,MAAM,SAASP,GACZf,EAAOsB,MAAQP,EAAKO,MAAMQ,gBAO1CnC,OAAO,qCAAsC,mBAAoB,SAASG,GAEtEA,EAAOC,WAAW,aAAc,SAAU,YAAa,QAC/B,SAASC,EAAUC,EAAa8B,GACpD/B,EAAO4B,QACHG,EAAMC,cACN/B,EAAUQ,KAAK,iBAGpBT,EAAOiC,UAAY,WACd,GAAIlB,GAAOf,EAAO4B,IAClBG,GAAMG,MAAMnB,EAAM,WACdd,EAAUQ,KAAK,MAChB,SAASE,GACU,KAAdA,EAAIC,QAAeZ,EAAOkC,MAAMpB,YAAYH,EAAII,cAMpEpB,OAAO,sCAAuC,mBAAoB,SAASG,GAEvEA,EAAOC,WAAW,cAAe,SAAU,YAAa,QAChC,SAASC,EAAUC,EAAa8B,GACpDA,EAAMI,OAAO,WACTlC,EAAUQ,KAAK,YAK3Bd,OAAO,qCAAsC,mBAAoB,SAASG,GAEtEA,EAAOC,WAAW,aAAc,SAAU,SAASC,GAC/CoC,KAAKC,SAAW,SAAStB,GACrBf,EAAOsC,OAAQ,WACXtC,EAAOe,KAAOA,KAGtBf,EAAOqC,SAAWD,KAAKC,cAI/B1C,OAAO,2BACH,uCACA,oCACA,qCACA,qCACD,cAEHA,OAAO,mCAAoC,mBAAoB,SAASG,GAEpEA,EAAOyC,UAAU,YAAa,SAAU,SAAUC,GAC9C,OACIC,QAAS,UACTC,OAAO,EACPC,KAAM,SAAUD,EAAOE,EAAMC,EAAOC,GAChC,GAAIC,GAAWP,EAAOK,EAAMG,SAC5BJ,GAAKK,GAAG,OAAQ,WACZP,EAAMJ,OAAO,WACTS,EAASL,GAAQQ,OAAUN,EAAKO,QAAQC,KAAK,SAASrC,GAClD+B,EAAKO,aAAa,SAAUtC,GACvBA,GACD+B,EAAKQ,cAAcC,qBAWnD5D,OAAO,oCAAqC,mBAAoB,SAASG,GAErEA,EAAOyC,UAAU,aAAc,WAC3B,OACIE,QAAS,UACTC,OACIc,aAAc,cAElBb,KAAM,SAAUD,EAAOE,EAAMC,EAAOC,GAGhCA,EAAKW,SAASC,QAAQ,SAASC,GAE3B,GAAItC,GAAQsC,GAASjB,EAAMc,YAK3B,OAJAV,GAAKO,aAAa,YAAahC,GAIxBA,EAAQsC,EAAQJ,SAK3BT,EAAKc,YAAYF,QAAQ,SAASC,GAK9B,MAHAb,GAAKO,aAAa,YAAaM,GAASjB,EAAMc,cAGvCG,WAO3BhE,OAAO,wCAAyC,mBAAoB,SAASG,GAEzEA,EAAOyC,UAAU,iBAAkB,QAAS,aAAc,SAASR,EAAO8B,GACtE,OACIC,SAAU,IACVpB,OACIqB,YAAe,kBAEnBpB,KAAM,SAAS3C,EAAQgE,GASnB,QAASC,KACDjE,EAAOK,MAAQL,EAAO+D,aACtBnE,EAAEoE,GAASE,OAAOnC,EAAMoC,UAAUnE,EAAO+D,YAAahC,EAAM1B,OAAO+D,OAAS,GAVpFpE,EAAOK,KAAO0B,EAAM1B,OACpBwD,EAAWQ,OAAO,OAAQ,WACtBJ,MACD,GACHjE,EAAOqE,OAAO,cAAe,WACzBJ,MACD,UAYnBtE,OAAO,qCAAsC,mBAAoB,SAASG,GAEtEA,EAAOyC,UAAU,cAAe,OAAQ,SAAU+B,GAC9C,OACIR,SAAW,IACXpB,OAAQ,EACRD,QAAW,OACX1C,YAAe,SAAU,SAAUC,GAC/BA,EAAOc,YAAc,eAKzB6B,KAAQ,SAAUD,EAAOsB,EAASnB,EAAOC,GACrCA,EAAKhC,YAAc,SAASC,GACxBuD,EAAKhD,MAAMP,GACXlB,QAAQ0E,QAAQxD,EAAM,SAASyD,EAAOC,GAClC,GAAIC,GAAM5B,EAAK2B,IAAc,IACxBC,IACDJ,EAAKhD,MAAM,kBAAmBmD,GAElC5E,QAAQ0E,QAAQC,EAAO,SAASlD,EAAOqD,GAC9BD,EAGDA,EAAIrB,aAAasB,GAAW,GAF5BL,EAAKhD,MAAMA,eAY3C3B,OAAO,0BACH,kCACA,mCAEA,uCAEA,qCACD,cAEHA,OAAO,sCAAuC,mBAAoB,SAASG,GAEvEA,EAAO8E,QAAQ,gBAAiB,YAAa,KAAM,WAAY,SAAUC,EAAWzE,EAAID,GACpF,MAAO0E,GAAU1E,EAAS2E,kBACtB5C,OAAS6C,OAAQ,QACjB5C,QAAU4C,OAAQ,UAClB/D,YAAc+D,OAAQ,MAAOC,QAAUC,OAAU,eACjDpE,UAAYkE,OAAQ,cAKhCpF,OAAO,8CAA+C,mBAAoB,SAASG,GAE/EA,EAAO8E,QAAQ,wBAAyB,KAAM,SAASxE,GACnD,MAAO,UAAUoB,GACb,MAAOA,GAAQ4B,KAAK,SAAU8B,GAC1B,MAAOA,IACR,SAAUA,GAOT,MANuB,MAAnBA,EAAStE,QACTuE,QAAQ7D,MAAM4D,EAASnE,KAAKO,MAAMQ,QAASoD,EAASnE,KAAKO,MAAM8D,MAE5C,KAAnBF,EAAStE,QACTuE,QAAQ7D,MAAM4D,EAASnE,MAEpBX,EAAGmB,OAAO2D,WAMjCvF,OAAO,yBACH,qCACA,8CACD,cAEHA,OAAO,wBAAyB,mBAAoB,SAAUG,GAC1D,YAEAA,GAAOuF,SAAS,YAAa,WACzBjD,KAAKkD,SAAW,QAEhBlD,KAAKmD,aAAe,cAEpBnD,KAAKoD,aAAe,iBAEpBpD,KAAK1B,QAAU,SAAUA,GAErB,MADA0B,MAAKkD,SAAW5E,EACT0B,MAGXA,KAAKqD,YAAc,SAAUA,GAEzB,MADArD,MAAKmD,aAAeE,EACbrD,MAGXA,KAAK0C,YAAc,SAAUA,GAEzB,MADA1C,MAAKoD,aAAeV,EACb1C,MAGXA,KAAKsD,KAAO,WACR,GAAIC,GAAOvD,IACX,QACI1B,QAAS,WACL,MAAOiF,GAAKL,UAEhBG,YAAa,WACT,MAAOE,GAAKJ,cAEhBT,YAAa,WACT,MAAOa,GAAKH,cAEhBI,OAAQ,WACJ,MAAOD,GAAKE,SAEhBC,MAAO,WACH,MAAOH,GAAKI,UAUxB3D,KAAK4D,YAAc,SAAUF,GACzB,GAAIG,GAAU,KAAMC,IAEpB,KAAK,GAAI9B,KAAQ0B,GAAO,CACpB,GAAIK,GAAUC,SAASH,EAAS,EAChCC,GAAUJ,EAAM1B,KACZ6B,QAASE,EACTE,MAAOP,EAAM1B,IAEjB6B,GAAWE,GAAW,GAAIG,SAAS,GAEvC,MAAOJ,IAOX9D,KAAKmE,mBAAqB,SAAUC,EAAyBN,GACzD,GAAIO,KACJ,KAAK,GAAIC,KAASF,GACd,GAA6C,gBAAlCA,GAAwBE,GAC/B,GAAsC,KAAlCF,EAAwBE,GAAe,CACvC,GAAIC,GAAgB,EAEpB,KAAK,GAAIvC,KAAQ8B,GACbS,GAAiB,GAGrBF,GAAaC,IACTT,QAASG,SAASO,EAAe,GACjCN,MAAOG,EAAwBE,QAGnCvB,SAAQyB,IAAI,0CAA4CJ,EAAwBE,GAAS,qCAAuCA,EAAQ,SAEzI,CACH,GAAIC,GAAgB,CACpB,KAAK,GAAIvC,KAAQoC,GAAwBE,GACjCR,EAAUW,eAAeL,EAAwBE,GAAOtC,IACxDuC,GAAgCT,EAAUM,EAAwBE,GAAOtC,IAAO6B,QAEhFd,QAAQyB,IAAI,8CAAgDJ,EAAwBE,GAAOtC,GAAQ,oDAAsDsC,EAAQ,IAGzKD,GAAaC,IACTT,QAASU,EACTN,MAAOG,EAAwBE,GAAOtC,IAIlD,MAAOqC,IAGXrE,KAAK2D,OAAS3D,KAAK4D,aACf,SACA,OACA,UAGJ5D,KAAKyD,QAAUzD,KAAKmE,oBAChBO,SAAU,IACVC,MAAS,UACT1G,MAAS,OAAQ,SACjB2G,OAAU,UACX5E,KAAK2D,WAEXkB,KAAK,aAAc,YAAa,WAAY,QAC/C,SAASpD,EAAY5D,EAAWE,EAAU4B,GACpC8B,EAAWqD,IAAI,oBAAqB,SAAUC,EAAOC,GACjDvD,EAAWvC,MAAQ,KAEnBuC,EAAWxD,KAAO0B,EAAM1B,OACxBwD,EAAWqC,UAAY/F,EAAS2F,QAChCjC,EAAWwD,IAAMlH,EAASyF,SAEtB/F,QAAQyH,UAAUF,IAASvH,QAAQyH,UAAUF,EAAKG,QAAQC,UAAYzF,EAAMoC,UAAUiD,EAAKG,QAAQC,UAC/FzF,EAAMC,aACN/B,EAAUQ,KAAK,KAEfR,EAAUQ,KAAKN,EAASO,UAAY,kBAMxDf,OAAO,qBAAsB,mBAAoB,SAAUG,GACvD,YAEAA,GAAO8E,QAAQ,SAAU,aAAc,eAAgB,WAAY,eAAgB,YAClE,SAASf,EAAc3D,EAAgBC,EAAYsH,EAAgBxH,GAChF,GAAIyH,IACAtD,KAAMjE,EAAS2F,QAAQgB,QAE3Ba,EAAa,SAAStH,GAEdA,EAAK+D,KADL/D,EAAK6B,MACO/B,EAAS2F,QAAQzF,KAEjBF,EAAS2F,QAAQgB,OAEjCY,EAAQrH,EACRJ,EAAUQ,KAAK,KACVoD,EAAW+D,SACZ/D,EAAWvB,SAYnB,OATAuB,GAAWxD,KAAOqH,EACdD,EAAaI,IAAI,SACjB3H,EAAa2H,IAAI,SAASxH,GAClBA,GACAsH,EAAWtH,MAMnB8D,UAAW,SAASJ,EAAaK,GAC7B,MAAIvE,SAAQiI,YAAY/D,IACb,GAECR,SAATa,IACCA,EAAOsD,EAAMtD,MAEVL,EAAYkC,QAAU7B,EAAK6B,UAEtCjE,WAAY,SAAS3B,GAGjB,MAFYkD,UAATlD,IACCA,EAAOqH,GACUnE,QAAdlD,EAAK6B,OAAoC,MAAd7B,EAAK6B,OAE3CrB,SAAU,SAASR,EAAMwB,EAASP,GAC9BI,MAAMC,KAAK,YAAatB,GAAMwB,QAAQ,SAASlB,GAC3CgH,EAAWhH,GACXkB,MACDP,MAAMA,IAEbY,MAAO,SAAS7B,EAAMwB,EAASP,GAC3BO,EAAUA,GAAWhC,QAAQkI,KAC7BzG,EAAQA,GAASzB,QAAQkI,KACzB7H,EAAagC,MAAM7B,EAAM,SAASA,GAC9BsH,EAAWtH,GACXoH,EAAaO,IAAI,OAAQ3H,GACzBwB,EAAQxB,IACT,SAASM,GACRW,EAAMX,MAGdwB,OAAQ,SAASN,EAASP,GACtBO,EAAUA,GAAWhC,QAAQkI,KAC7BzG,EAAQA,GAASzB,QAAQkI,KACzB7H,EAAaiC,OAAO,SAAS9B,GACzBsH,EAAWtH,OACXwB,EAAQxB,IACTiB,IAEPjB,KAAM,WACF,MAAOqH,UAMvB/H,OAAO,sBAAuB,mBAAoB,SAAUG,GACxD,YAEAA,GAAOmI,QAAQ,iBAAkB,oBAAqB,mBAAoB,SAASC,EAAgBC,EAAmBC,GAClH,GAAI1H,GAAc0H,EAAiB9C,SAC/BG,EAAc2C,EAAiB7C,YAEnC2C,GAEKG,KAAK3H,EAAU,aACZ+E,YAAaA,EAAc,6BAC3B1F,WAAY,iBAEfsI,KAAK3H,EAAU,UACZ+E,YAAaA,EAAc,qBAC3B1F,WAAY,cAEfsI,KAAK3H,EAAU,YACZ+E,YAAaA,EAAc,uBAC3B1F,WAAY,cAEfsI,KAAK3H,EAAU,mBACZ+E,YAAaA,EAAc,yCAE9B4C,KAAK3H,EAAU,qBACZ+E,YAAaA,EAAc,qCAC3B1F,WAAY,iBAEfsI,KAAK3H,EAAU,qBACZ+E,YAAaA,EAAc,wCAC3B1F,WAAY,iBAEfsI,KAAK3H,EAAU,4BACZ+E,YAAaA,EAAc,wCAC3B1F,WAAY,iBAIfsI,KAAK3H,EAAU,UACZ+E,YAAaA,EAAc,0BAC3B1F,WAAY,cAEfsI,KAAK3H,EAAU,WACZ4H,SAAU,aACVvI,WAAY,oBAK5BJ,OAAO,eAEC,UACA,0BACA,yBACA,wBACA,kBACA,uBACA,oBACA,sBACD,SAAUE,GACb,YAEA,OAAOA,GAAQC,OAAO"}