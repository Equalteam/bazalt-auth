{"version":3,"file":"bazalt-auth.min.js","sources":["bazalt-auth.js"],"names":["define","$","angular","module","controller","$scope","$location","baUserResource","baConfig","$q","user","registerUser","loading","$register","path","baseUrl","res","status","register","invalidForm","data","checkEmail","email","d","defer","resolve","valid","error","reject","promise","resendActivation","$http","post","form","success","message","baAcl","isLoggedIn","loginUser","login","logout","directive","require","scope","compareField","link","elem","attrs","ctrl","$parsers","unshift","value","$setValidity","undefined","$formatters","$rootScope","restrict","element","updateCSS","toggle","hasRight","baAccessLevel","acl","$watch","$on","$parse","callback","ngUnique","on","$apply","$value","val","then","$setViewValue","$log","$setDirty","forEach","field","fieldName","ctr","validator","$dirty","factory","$resource","apiEndpoint","id","method","params","action","delete","response","console","file","provider","this","$baseUrl","$templateUrl","$apiEndpoint","templateUrl","levels","$levels","$get","self","roles","$roles","$buildRoles","bitMask","userRoles","role","intCode","parseInt","title","toString","$buildAccessLevels","accessLevelDeclarations","accessLevels","level","resultBitMask","log","hasOwnProperty","system","guest","run","setAcl","event","next","isDefined","$$route","access","baSessionResource","$cookieStore","$user","changeUser","info","$emit","$$phase","get","accessLevel","split","bit","i","length","noop","put","config","$routeProvider","$locationProvider","baConfigProvider","when","template"],"mappings":"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"}