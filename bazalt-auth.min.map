{"version":3,"file":"bazalt-auth.min.js","sources":["bazalt-auth.js"],"names":["define","$","angular","module","controller","$scope","$location","baUserResource","baConfig","$q","user","registerUser","loading","$register","path","baseUrl","res","status","register","invalidForm","data","checkEmail","email","d","defer","resolve","valid","error","reject","promise","resendActivation","$http","post","form","success","message","baAcl","isLoggedIn","loginUser","login","logout","directive","require","scope","compareField","link","elem","attrs","ctrl","$parsers","unshift","value","$setValidity","undefined","$formatters","$rootScope","restrict","accessLevel","element","updateCSS","toggle","authorize","role","console","info","baAccessLevel","$watch","$on","$parse","callback","ngUnique","on","$apply","$value","val","then","$setViewValue","$log","forEach","field","fieldName","ctr","validator","factory","$resource","apiEndpoint","method","params","action","response","file","provider","this","$baseUrl","$templateUrl","$apiEndpoint","templateUrl","$get","self","levels","$levels","roles","$roles","$buildRoles","bitMask","userRoles","intCode","parseInt","title","toString","$buildAccessLevels","accessLevelDeclarations","accessLevels","level","resultBitMask","log","hasOwnProperty","public","anon","admin","run","setAcl","acl","event","next","isDefined","$$route","access","$cookieStore","$user","changeUser","$emit","$$phase","get","isUndefined","noop","put","config","$routeProvider","$locationProvider","baConfigProvider","when","template"],"mappings":"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"}