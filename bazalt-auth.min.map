{"version":3,"file":"bazalt-auth.min.js","sources":["bazalt-auth.js"],"names":["window","angular","undefined","module","factory","$rootScope","$browser","push","name","value","browserCookies","updated","lastCookies","isUndefined","cookies","isString","isDefined","lastBrowserCookies","runEval","copy","addPollFn","currentCookies","$apply","$watch","$cookies","get","key","fromJson","put","toJson","remove","define","$","controller","$scope","$location","UserResource","blConfig","$q","user","registerUser","loading","$register","path","baseUrl","res","status","register","invalidForm","data","checkEmail","email","d","defer","resolve","valid","error","reject","promise","resendActivation","$http","post","form","success","message","blAcl","isLoggedIn","loginUser","login","logout","this","setModel","directive","$parse","require","scope","link","elem","attrs","ctrl","callback","ngUnique","on","$value","val","then","$setValidity","$setViewValue","compareField","$parsers","unshift","$formatters","restrict","accessLevel","element","updateCSS","toggle","authorize","role","$log","forEach","field","fieldName","ctr","validator","$resource","apiEndpoint","method","params","action","response","console","file","provider","$baseUrl","$templateUrl","$apiEndpoint","templateUrl","$get","self","levels","$levels","roles","$roles","$buildRoles","bitMask","userRoles","intCode","parseInt","title","toString","$buildAccessLevels","accessLevelDeclarations","accessLevels","level","resultBitMask","log","hasOwnProperty","public","anon","admin","run","$on","event","next","acl","$$route","access","$cookieStore","$user","changeUser","$$phase","noop","config","$routeProvider","$locationProvider","blConfigProvider","when","template"],"mappings":"CAAC,YAMD,SAAUA,EAAQC,EAASC,GAC3B,YAQAD,GAAQE,OAAO,aAAc,OA0B1BC,QAAQ,YAAa,aAAc,WAAY,SAAUC,EAAYC,GAgClE,QAASC,KACP,GAAIC,GACAC,EACAC,EACAC,CAGJ,KAAKH,IAAQI,GACPC,EAAYC,EAAQN,KACtBF,EAASQ,QAAQN,EAAMN,EAK3B,KAAIM,IAAQM,GACVL,EAAQK,EAAQN,GACXP,EAAQc,SAASN,GAMXA,IAAUG,EAAYJ,KAC/BF,EAASQ,QAAQN,EAAMC,GACvBE,GAAU,GAPNV,EAAQe,UAAUJ,EAAYJ,IAChCM,EAAQN,GAAQI,EAAYJ,SAErBM,GAAQN,EASrB,IAAIG,EAAQ,CACVA,GAAU,EACVD,EAAiBJ,EAASQ,SAE1B,KAAKN,IAAQM,GACPA,EAAQN,KAAUE,EAAeF,KAE/BK,EAAYH,EAAeF,UACtBM,GAAQN,GAEfM,EAAQN,GAAQE,EAAeF,GAEjCG,GAAU,IAxElB,GAEIM,GAFAH,KACAF,KAEAM,GAAU,EACVC,EAAOlB,EAAQkB,KACfN,EAAcZ,EAAQY,WAoB1B,OAjBAP,GAASc,UAAU,WACjB,GAAIC,GAAiBf,EAASQ,SAC1BG,IAAsBI,IACxBJ,EAAqBI,EACrBF,EAAKE,EAAgBT,GACrBO,EAAKE,EAAgBP,GACjBI,GAASb,EAAWiB,cAI5BJ,GAAU,EAKVb,EAAWkB,OAAOhB,GAEXO,KAkEVV,QAAQ,gBAAiB,WAAY,SAASoB,GAE3C,OAYEC,IAAK,SAASC,GACZ,GAAIjB,GAAQe,EAASE,EACrB,OAAOjB,GAAQR,EAAQ0B,SAASlB,GAASA,GAc3CmB,IAAK,SAASF,EAAKjB,GACjBe,EAASE,GAAOzB,EAAQ4B,OAAOpB,IAajCqB,OAAQ,SAASJ,SACRF,GAASE,SAOvB1B,OAAQA,OAAOC,SAElB8B,OAAO,kBAAmB,cAE1BA,OAAO,mBAAoB,SAAU,UAAW,mBAAoB,mBAAoB,SAAUC,EAAG/B,GACjG,YAEA,OAAOA,GAAQE,OAAO,eAAgB,gBAE1C4B,OAAO,wCAAyC,mBAAoB,SAAS5B,GAEzEA,EAAO8B,WAAW,gBAAiB,SAAU,YAAa,eAAgB,WAAY,KAAM,SAASC,EAAQC,EAAWC,EAAcC,EAAUC,GAC5IJ,EAAOK,QACPL,EAAOM,aAAe,WAClB,GAAID,GAAO,GAAIH,GAAaF,EAAOK,KACnCL,GAAOO,SAAU,EACjBF,EAAKG,UAAU,WACXR,EAAOO,SAAU,EACjBN,EAAUQ,KAAKN,EAASO,UAAY,oBACrC,SAASC,GACU,KAAdA,EAAIC,QAAeZ,EAAOa,SAASC,YAAYH,EAAII,SAG/Df,EAAOgB,WAAa,SAASC,GACzB,GAAIC,GAAId,EAAGe,OAMX,OALAjB,GAAac,YAAaC,MAASA,GAAS,SAASF,GACjDG,EAAEE,QAAQL,EAAKM,QAChB,SAASC,GACRJ,EAAEK,OAAOD,KAENJ,EAAEM,SAEbxB,EAAOyB,iBAAmB,WACtBC,MAAMC,KAAK,4BAA6B3B,EAAO4B,MAC9CC,QAAQ,WACL5B,EAAUQ,KAAK,uBAElBa,MAAM,SAASP,GACZf,EAAOsB,MAAQP,EAAKO,MAAMQ,gBAO1CjC,OAAO,qCAAsC,mBAAoB,SAAS5B,GAEtEA,EAAO8B,WAAW,aAAc,SAAU,YAAa,QAC/B,SAASC,EAAUC,EAAa8B,GACpD/B,EAAO4B,QACHG,EAAMC,cACN/B,EAAUQ,KAAK,iBAGpBT,EAAOiC,UAAY,WACd,GAAIlB,GAAOf,EAAO4B,IAClBG,GAAMG,MAAMnB,EAAM,WACdd,EAAUQ,KAAK,MAChB,SAASE,GACU,KAAdA,EAAIC,QAAeZ,EAAOkC,MAAMpB,YAAYH,EAAII,cAMpElB,OAAO,sCAAuC,mBAAoB,SAAS5B,GAEvEA,EAAO8B,WAAW,cAAe,SAAU,YAAa,QAChC,SAASC,EAAUC,EAAa8B,GACpDA,EAAMI,OAAO,WACTlC,EAAUQ,KAAK,YAK3BZ,OAAO,qCAAsC,mBAAoB,SAAS5B,GAEtEA,EAAO8B,WAAW,aAAc,SAAU,SAASC,GAC/CoC,KAAKC,SAAW,SAAStB,GACrBf,EAAOZ,OAAQ,WACXY,EAAOe,KAAOA,KAGtBf,EAAOqC,SAAWD,KAAKC,cAI/BxC,OAAO,2BACH,uCACA,oCACA,qCACA,qCACD,cAEHA,OAAO,mCAAoC,mBAAoB,SAAS5B,GAEpEA,EAAOqE,UAAU,YAAa,SAAU,SAAUC,GAC9C,OACIC,QAAS,UACTC,OAAO,EACPC,KAAM,SAAUD,EAAOE,EAAMC,EAAOC,GAChC,GAAIC,GAAWP,EAAOK,EAAMG,SAC5BJ,GAAKK,GAAG,OAAQ,WACZP,EAAMrD,OAAO,WACT0D,EAASL,GAAQQ,OAAUN,EAAKO,QAAQC,KAAK,SAASpC,GAClD8B,EAAKO,aAAa,SAAUrC,GACvBA,GACD8B,EAAKQ,cAAcrF,qBAWnD6B,OAAO,oCAAqC,mBAAoB,SAAS5B,GAErEA,EAAOqE,UAAU,aAAc,WAC3B,OACIE,QAAS,UACTC,OACIa,aAAc,cAElBZ,KAAM,SAAUD,EAAOE,EAAMC,EAAOC,GAGhCA,EAAKU,SAASC,QAAQ,SAASjF,GAE3B,GAAI8C,GAAQ9C,GAASkE,EAAMa,YAK3B,OAJAT,GAAKO,aAAa,YAAa/B,GAIxBA,EAAQ9C,EAAQP,SAK3B6E,EAAKY,YAAYD,QAAQ,SAASjF,GAK9B,MAHAsE,GAAKO,aAAa,YAAa7E,GAASkE,EAAMa,cAGvC/E,WAO3BsB,OAAO,wCAAyC,mBAAoB,SAAS5B,GAEzEA,EAAOqE,UAAU,iBAAkB,QAAS,aAAc,SAASP,EAAO5D,GACtE,OACIuF,SAAU,IACVjB,OACIkB,YAAe,kBAEnBjB,KAAM,SAAS1C,EAAQ4D,GASnB,QAASC,KACD7D,EAAOK,MAAQL,EAAO2D,aACtB7D,EAAE8D,GAASE,OAAO/B,EAAMgC,UAAU/D,EAAO2D,YAAa5B,EAAM1B,OAAO2D,OAAS,GAVpFhE,EAAOK,KAAO0B,EAAM1B,OACpBlC,EAAWkB,OAAO,OAAQ,WACtBwE,MACD,GACH7D,EAAOX,OAAO,cAAe,WACzBwE,MACD,UAYnBhE,OAAO,qCAAsC,mBAAoB,SAAS5B,GAEtEA,EAAOqE,UAAU,cAAe,OAAQ,SAAU2B,GAC9C,OACIP,SAAW,IACXjB,OAAQ,EACRD,QAAW,OACXzC,YAAe,SAAU,SAAUC,GAC/BA,EAAOc,YAAc,eAKzB4B,KAAQ,SAAUD,EAAOmB,EAAShB,EAAOC,GACrCA,EAAK/B,YAAc,SAASC,GACxBkD,EAAK3C,MAAMP,GACXhD,QAAQmG,QAAQnD,EAAM,SAASoD,EAAOC,GAClC,GAAIC,GAAMxB,EAAKuB,IAAc,IACxBC,IACDJ,EAAK3C,MAAM,kBAAmB8C,GAElCrG,QAAQmG,QAAQC,EAAO,SAAS7C,EAAOgD,GAC9BD,EAGDA,EAAIjB,aAAakB,GAAW,GAF5BL,EAAK3C,MAAMA,eAY3CzB,OAAO,0BACH,kCACA,mCAEA,uCAEA,qCACD,cAEHA,OAAO,sCAAuC,mBAAoB,SAAS5B,GAEvEA,EAAOC,QAAQ,gBAAiB,YAAa,KAAM,WAAY,SAAUqG,EAAWnE,EAAID,GACpF,MAAOoE,GAAUpE,EAASqE,kBACtBtC,OAASuC,OAAQ,QACjBtC,QAAUsC,OAAQ,UAClBzD,YAAcyD,OAAQ,MAAOC,QAAUC,OAAU,eACjD9D,UAAY4D,OAAQ,cAKhC5E,OAAO,8CAA+C,mBAAoB,SAAS5B,GAE/EA,EAAOC,QAAQ,wBAAyB,KAAM,SAASkC,GACnD,MAAO,UAAUoB,GACb,MAAOA,GAAQ2B,KAAK,SAAUyB,GAC1B,MAAOA,IACR,SAAUA,GAOT,MANuB,MAAnBA,EAAShE,QACTiE,QAAQvD,MAAMsD,EAAS7D,KAAKO,MAAMQ,QAAS8C,EAAS7D,KAAKO,MAAMwD,MAE5C,KAAnBF,EAAShE,QACTiE,QAAQvD,MAAMsD,EAAS7D,MAEpBX,EAAGmB,OAAOqD,WAMjC/E,OAAO,yBACH,qCACA,8CACD,cAEHA,OAAO,wBAAyB,mBAAoB,SAAU5B,GAC1D,YAEAA,GAAO8G,SAAS,YAAa,WACzB3C,KAAK4C,SAAW,QAEhB5C,KAAK6C,aAAe,cAEpB7C,KAAK8C,aAAe,iBAEpB9C,KAAK1B,QAAU,SAAUA,GAErB,MADA0B,MAAK4C,SAAWtE,EACT0B,MAGXA,KAAK+C,YAAc,SAAUA,GAEzB,MADA/C,MAAK6C,aAAeE,EACb/C,MAGXA,KAAKoC,YAAc,SAAUA,GAEzB,MADApC,MAAK8C,aAAeV,EACbpC,MAGXA,KAAKgD,KAAO,WACR,GAAIC,GAAOjD,IACX,QACI1B,QAAS,WACL,MAAO2E,GAAKL,UAEhBG,YAAa,WACT,MAAOE,GAAKJ,cAEhBT,YAAa,WACT,MAAOa,GAAKH,cAEhBI,OAAQ,WACJ,MAAOD,GAAKE,SAEhBC,MAAO,WACH,MAAOH,GAAKI,UAUxBrD,KAAKsD,YAAc,SAAUF,GACzB,GAAIG,GAAU,KAAMC,IAEpB,KAAK,GAAI5B,KAAQwB,GAAO,CACpB,GAAIK,GAAUC,SAASH,EAAS,EAChCC,GAAUJ,EAAMxB,KACZ2B,QAASE,EACTE,MAAOP,EAAMxB,IAEjB2B,GAAWE,GAAW,GAAIG,SAAS,GAEvC,MAAOJ,IAOXxD,KAAK6D,mBAAqB,SAAUC,EAAyBN,GACzD,GAAIO,KACJ,KAAK,GAAIC,KAASF,GACd,GAA6C,gBAAlCA,GAAwBE,GAC/B,GAAsC,KAAlCF,EAAwBE,GAAe,CACvC,GAAIC,GAAgB,EAEpB,KAAK,GAAIrC,KAAQ4B,GACbS,GAAiB,GAGrBF,GAAaC,IACTT,QAASG,SAASO,EAAe,GACjCN,MAAOG,EAAwBE,QAGnCvB,SAAQyB,IAAI,0CAA4CJ,EAAwBE,GAAS,qCAAuCA,EAAQ,SAEzI,CACH,GAAIC,GAAgB,CACpB,KAAK,GAAIrC,KAAQkC,GAAwBE,GACjCR,EAAUW,eAAeL,EAAwBE,GAAOpC,IACxDqC,GAAgCT,EAAUM,EAAwBE,GAAOpC,IAAO2B,QAEhFd,QAAQyB,IAAI,8CAAgDJ,EAAwBE,GAAOpC,GAAQ,oDAAsDoC,EAAQ,IAGzKD,GAAaC,IACTT,QAASU,EACTN,MAAOG,EAAwBE,GAAOpC,IAIlD,MAAOmC,IAGX/D,KAAKqD,OAASrD,KAAKsD,aACf,SACA,OACA,UAGJtD,KAAKmD,QAAUnD,KAAK6D,oBAChBO,SAAU,IACVC,MAAS,UACTpG,MAAS,OAAQ,SACjBqG,OAAU,UACXtE,KAAKqD,WAEXkB,KAAK,aAAc,YAAa,WAAY,QAC/C,SAASxI,EAAY8B,EAAWE,EAAU4B,GACpC5D,EAAWyI,IAAI,oBAAqB,SAAUC,EAAOC,GACjD3I,EAAWmD,MAAQ,KAEnBnD,EAAWkC,KAAO0B,EAAM1B,OACxBlC,EAAWyH,UAAYzF,EAASqF,QAChCrH,EAAW4I,IAAM5G,EAASmF,SAEtBvH,QAAQe,UAAUgI,IAAS/I,QAAQe,UAAUgI,EAAKE,QAAQC,UAAYlF,EAAMgC,UAAU+C,EAAKE,QAAQC,UAC/FlF,EAAMC,aACN/B,EAAUQ,KAAK,KAEfR,EAAUQ,KAAKN,EAASO,UAAY,kBAMxDb,OAAO,qBAAsB,mBAAoB,SAAU5B,GACvD,YAEAA,GAAOC,QAAQ,SAAU,aAAc,eAAgB,WAAY,eAAgB,YAClE,SAASC,EAAc+B,EAAgBC,EAAY+G,EAAgBjH,GAChF,GAAIkH,IACAnD,KAAM7D,EAASqF,QAAQgB,QAE3BY,EAAa,SAAS/G,GAEdA,EAAK2D,KADL3D,EAAK6B,MACO/B,EAASqF,QAAQnF,KAEjBF,EAASqF,QAAQgB,OAEjCW,EAAQ9G,EACRJ,EAAUQ,KAAK,KACVtC,EAAWkJ,SACZlJ,EAAWiB,SAYnB,OATAjB,GAAWkC,KAAO8G,EACdD,EAAa3H,IAAI,SACjBW,EAAaX,IAAI,SAASc,GAClBA,GACA+G,EAAW/G,MAMnB0D,UAAW,SAASJ,EAAaK,GAC7B,MAAIjG,SAAQY,YAAYgF,IACb,GAEC3F,SAATgG,IACCA,EAAOmD,EAAMnD,MAEVL,EAAYgC,QAAU3B,EAAK2B,UAEtC3D,WAAY,SAAS3B,GAGjB,MAFYrC,UAATqC,IACCA,EAAO8G,GACUnJ,QAAdqC,EAAK6B,OAAoC,MAAd7B,EAAK6B,OAE3CrB,SAAU,SAASR,EAAMwB,EAASP,GAC9BI,MAAMC,KAAK,YAAatB,GAAMwB,QAAQ,SAASlB,GAC3CyG,EAAWzG,GACXkB,MACDP,MAAMA,IAEbY,MAAO,SAAS7B,EAAMwB,EAASP,GAC3BO,EAAUA,GAAW9D,QAAQuJ,KAC7BhG,EAAQA,GAASvD,QAAQuJ,KACzBpH,EAAagC,MAAM7B,EAAM,SAASA,GAC9B+G,EAAW/G,GACX6G,EAAaxH,IAAI,OAAQW,GACzBwB,EAAQxB,IACT,SAASM,GACRW,EAAMX,MAGdwB,OAAQ,SAASN,EAASP,GACtBO,EAAUA,GAAW9D,QAAQuJ,KAC7BhG,EAAQA,GAASvD,QAAQuJ,KACzBpH,EAAaiC,OAAO,SAAS9B,GACzB+G,EAAW/G,OACXwB,EAAQxB,IACTiB,IAEPjB,KAAM,WACF,MAAO8G,UAMvBtH,OAAO,sBAAuB,mBAAoB,SAAU5B,GACxD,YAEAA,GAAOsJ,QAAQ,iBAAkB,oBAAqB,mBAAoB,SAASC,EAAgBC,EAAmBC,GAClH,GAAIhH,GAAcgH,EAAiB1C,SAC/BG,EAAcuC,EAAiBzC,YAEnCuC,GAEKG,KAAKjH,EAAU,aACZyE,YAAaA,EAAc,6BAC3BpF,WAAY,iBAEf4H,KAAKjH,EAAU,UACZyE,YAAaA,EAAc,qBAC3BpF,WAAY,cAEf4H,KAAKjH,EAAU,YACZyE,YAAaA,EAAc,uBAC3BpF,WAAY,cAEf4H,KAAKjH,EAAU,mBACZyE,YAAaA,EAAc,yCAE9BwC,KAAKjH,EAAU,qBACZyE,YAAaA,EAAc,qCAC3BpF,WAAY,iBAEf4H,KAAKjH,EAAU,qBACZyE,YAAaA,EAAc,wCAC3BpF,WAAY,iBAEf4H,KAAKjH,EAAU,4BACZyE,YAAaA,EAAc,wCAC3BpF,WAAY,iBAIf4H,KAAKjH,EAAU,UACZyE,YAAaA,EAAc,0BAC3BpF,WAAY,cAEf4H,KAAKjH,EAAU,WACZkH,SAAU,aACV7H,WAAY,oBAK5BF,OAAO,eAEC,UACA,0BACA,yBACA,wBACA,kBACA,uBACA,oBACA,sBACD,SAAU9B,GACb,YAEA,OAAOA,GAAQE,OAAO"}